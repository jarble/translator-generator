<!DOCTYPE html>
<html>
	<head>
	 <script src="peggy_parsers/test_peggy_parsers_bundle.js"></script>
	</head>
<body onload>
	
<h1><a href="https://jarble.github.io/transpiler/javascript/js_transpiler/typescript_to_zig.html">TypeScript to Zig</a></h1>
<h2>TypeScript input:</h2>
<textarea id="my-input" cols="40" rows="5" placeholder="Type something here"></textarea>
<h2>Zig output:</h2>
<textarea id="outputText" readonly cols="40" rows="5" placeholder="See output here"></textarea>
</label>
<script>
		// Get the input box
(function () {

const tx = document.getElementsByTagName("textarea");
for (let i = 0; i < tx.length; i++) {
  tx[i].setAttribute("style", "height:" + (tx[i].scrollHeight) + "px;overflow-y:hidden;");
  tx[i].addEventListener("input", OnInput, false);
}

function OnInput() {
  this.style.height = "auto";
  this.style.height = (this.scrollHeight) + "px";
}
	
let input = document.getElementById('my-input');

// Init a timeout variable to be used below
let timeout = null;

// Listen for keystroke events
input.addEventListener('keyup', function (e) {
    // Clear the timeout if it has already been set.
    // This will prevent the previous task from executing
    // if it has been less than <MILLISECONDS>
    clearTimeout(timeout);

    // Make a new timeout set to go off in 1000ms (1 second)
    timeout = setTimeout(function () {
        document.getElementById("outputText").value = parse(input.value);
    }, 1000);
});
})();

		</script>
</body>
</html>
